<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قسم السكرتارية - تسجيل الدخول</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="login-page">
        <h1>تسجيل الدخول - قسم السكرتارية</h1>
        <form id="login-form">
            <div class="form-group">
                <label for="employeeCode">أدخل رمز الدخول:</label>
                <input type="password" id="employeeCode" required>
            </div>
            <button type="submit" class="btn">تسجيل الدخول</button>
            <p id="login-message" class="error-message"></p>
        </form>
    </div>

    <div class="container hidden" id="dashboard-page">
        <button class="btn search-btn" id="open-search-modal-btn">بحث عن طلب</button>
        <h1 id="welcome-message">مرحباً [اسم الموظف]</h1>
        <p>اليوم: <span id="current-date"></span></p>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>نوع الطلب</th>
                        <th>رقم الفاتورة</th>
                        <th>اسم العميل</th>
                        <th>رقم هاتف العميل</th>
                        <th>المنطقة</th>
                        <th>قيمة الفاتورة</th>
                        <th>قيمة التوصيل</th>
                        <th>طريقة الدفع</th>
                        <th>المندوب</th>
                        <th>عمل مجاني</th>
                        <th>توقيع المندوب</th>
                        <th>الإجراءات</th>
                    </tr>
                </thead>
                <tbody id="orders-table-body">
                    </tbody>
            </table>
        </div>
        <button class="btn add-btn" id="add-new-order-btn">إضافة طلب جديد</button>
    </div>

    <div id="order-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>إضافة طلب جديد</h2>
            <form id="order-form">
                <div class="form-group">
                    <label for="orderType">نوع الطلب:</label>
                    <select id="orderType" required>
                        <option value="">اختر نوع الطلب</option>
                        <option value="عادية">عادية</option>
                        <option value="موقع">موقع</option>
                        <option value="اشتراك">اشتراك</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="invoiceNumbers">رقم الفاتورة:</label>
                    <input type="number" class="invoice-number-input" name="invoiceNumbers[]" placeholder="أدخل رقم الفاتورة" required>
                    <input type="number" class="invoice-number-input" name="invoiceNumbers[]" placeholder="رقم فاتورة إضافي (اختياري)">
                    <input type="number" class="invoice-number-input" name="invoiceNumbers[]" placeholder="رقم فاتورة إضافي (اختياري)">
                    <p id="invoice-number-error" class="error-message hidden">الرجاء إدخال رقم فاتورة واحد على الأقل.</p>
                </div>
                <div class="form-group">
                    <label for="clientName">اسم العميل:</label>
                    <input type="text" id="clientName" placeholder="أدخل اسم العميل" required>
                </div>
                <div class="form-group">
                    <label for="clientPhone">رقم هاتف العميل:</label>
                    <input type="tel" id="clientPhone" placeholder="أدخل رقم هاتف العميل" required>
                </div>
                <div class="form-group">
                    <label for="region">المنطقة:</label>
                    <input type="text" id="region" placeholder="أدخل المنطقة" required>
                </div>
                <div class="form-group">
                    <label for="invoiceValue">قيمة الفاتورة:</label>
                    <input type="number" id="invoiceValue" placeholder="أدخل قيمة الفاتورة" required>
                </div>
                <div class="form-group">
                    <label for="deliveryValue">قيمة التوصيل:</label>
                    <input type="number" id="deliveryValue" placeholder="أدخل قيمة التوصيل" required>
                </div>
                <div class="form-group">
                    <label for="paymentMethod">طريقة الدفع:</label>
                    <select id="paymentMethod" required>
                        <option value="">اختر طريقة الدفع</option>
                        <option value="مدفوع">مدفوع</option>
                        <option value="كاش">كاش</option>
                        <option value="بانتظار دفع الرابط">بانتظار دفع الرابط</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="delegate">المندوب:</label>
                    <select id="delegate" required>
                        <option value="">اختر المندوب</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>عمل مجاني:</label>
                    <input type="radio" id="freeWorkYes" name="freeWork" value="نعم"> <label for="freeWorkYes">نعم</label>
                    <input type="radio" id="freeWorkNo" name="freeWork" value="لا" checked> <label for="freeWorkNo">لا</label>
                </div>
                <div id="freeWorkDescriptionGroup" class="form-group hidden">
                    <label for="freeWorkDescription">وصف العمل المجاني:</label>
                    <input type="text" id="freeWorkDescription" placeholder="أدخل وصف العمل المجاني">
                </div>
                    <button type="submit" class="btn">حفظ وتسليم</button>            </form>
        </div>
    </div>

    <div id="search-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>بحث عن طلب</h2>
            <div class="search-options">
                <button class="btn" id="search-by-invoice-btn">البحث برقم الفاتورة</button>
                <button class="btn" id="search-by-phone-btn">البحث برقم هاتف العميل</button>
            </div>
            <div id="search-input-area" class="form-group hidden">
                <label for="search-term">أدخل قيمة البحث:</label>
                <input type="text" id="search-term" placeholder="أدخل رقم الفاتورة أو رقم الهاتف" required>
                <button class="btn" id="execute-search-btn">بحث</button>
            </div>
            <div class="search-results-container">
                <h3>نتائج البحث:</h3>
                <table class="search-results-table">
                    <thead>
                        <tr>
                            <th>نوع الطلب</th>
                            <th>رقم الفاتورة</th>
                            <th>اسم العميل</th>
                            <th>رقم هاتف العميل</th>
                            <th>المنطقة</th>
                            <th>قيمة الفاتورة</th>
                            <th>قيمة التوصيل</th>
                            <th>طريقة الدفع</th>
                            <th>المندوب</th>
                            <th>تاريخ التسليم</th>
                        </tr>
                    </thead>
                    <tbody id="search-results-body">
                        </tbody>
                </table>
                <p id="no-search-results" class="hidden error-message">لا توجد نتائج مطابقة.</p>
            </div>
        </div>
    </div>

    <div id="signature-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>توقيع المندوب</h2>
            <p>الرجاء توقيع المندوب في المساحة أدناه:</p>
            <canvas id="signature-pad" width="400" height="200" style="touch-action: none;"></canvas>
            <div style="margin-top: 15px;">
                <button class="btn" id="clear-signature-btn">مسح التوقيع</button>
                <button class="btn" id="save-signature-btn">حفظ التوقيع</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>